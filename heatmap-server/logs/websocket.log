
> heatmap-server@1.0.0 websocket
> node websocket-server.js

ğŸš€ WebSocket Server iniciado na porta 3002
ğŸŒ Servidor HTTP para diagnÃ³sticos iniciado na porta 3003
âœ… Nova conexÃ£o WebSocket: ::1
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ“± SessÃ£o iniciada: 33592a41-f2a9-4283-b82a-a7d2c528c83c
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:57:21)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_started {
  sessionId: '33592a41-f2a9-4283-b82a-a7d2c528c83c',
  url: 'http://localhost:56844/',
  timestamp: 1751700329813
}
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ“± SessÃ£o iniciada: 7ce640e8-f17c-463b-9984-a9dcaf46876f
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:57:21)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_started {
  sessionId: '7ce640e8-f17c-463b-9984-a9dcaf46876f',
  url: 'http://localhost:62174/',
  timestamp: 1751700330072
}
âœ… Nova conexÃ£o WebSocket: undefined
âœ… Nova conexÃ£o WebSocket: ::1
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ”š SessÃ£o finalizada: 33592a41-f2a9-4283-b82a-a7d2c528c83c
ğŸ“Š Resumo da SessÃ£o 33592a41-f2a9-4283-b82a-a7d2c528c83c:
   â±ï¸  DuraÃ§Ã£o: 17s
   ğŸ“¸ Imagens: 0
   ğŸ–±ï¸  Pontos de Mouse: 0
   ğŸ‘† Cliques: 0
   ğŸŒ URL: http://localhost:56844/
âš ï¸  DIAGNÃ“STICO - SessÃ£o 33592a41-f2a9-4283-b82a-a7d2c528c83c sem imagens:
   - DuraÃ§Ã£o da sessÃ£o: 17s
   - Ãšltima atividade: 05/07/2025, 04:25:29
   - URL da sessÃ£o: http://localhost:56844/
   - PossÃ­veis causas:
     â€¢ Flutter nÃ£o estÃ¡ enviando imagens
     â€¢ Problemas de conectividade WebSocket
     â€¢ SessÃ£o muito curta (< 10s)
     â€¢ Problemas no processo de captura
   - Nenhum arquivo encontrado no diretÃ³rio de uploads
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:182:25)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_ended {
  sessionId: '33592a41-f2a9-4283-b82a-a7d2c528c83c',
  timestamp: 1751700346995
}
ğŸ”Œ ConexÃ£o WebSocket fechada: 33592a41-f2a9-4283-b82a-a7d2c528c83c
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:321:13)
    at WebSocket.emit (node:events:536:35)
    at WebSocket.emitClose (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:272:10)
    at Socket.socketOnClose (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1341:15)
    at Socket.emit (node:events:524:28) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ“± SessÃ£o iniciada: c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:57:21)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_started {
  sessionId: 'c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46',
  url: 'http://localhost:5000/',
  timestamp: 1751700350689
}
ğŸ”š SessÃ£o finalizada: c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“Š Resumo da SessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46:
   â±ï¸  DuraÃ§Ã£o: 0s
   ğŸ“¸ Imagens: 0
   ğŸ–±ï¸  Pontos de Mouse: 0
   ğŸ‘† Cliques: 0
   ğŸŒ URL: http://localhost:5000/
âš ï¸  DIAGNÃ“STICO - SessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46 sem imagens:
   - DuraÃ§Ã£o da sessÃ£o: 0s
   - Ãšltima atividade: 05/07/2025, 04:25:50
   - URL da sessÃ£o: http://localhost:5000/
   - PossÃ­veis causas:
     â€¢ Flutter nÃ£o estÃ¡ enviando imagens
     â€¢ Problemas de conectividade WebSocket
     â€¢ SessÃ£o muito curta (< 10s)
     â€¢ Problemas no processo de captura
   - Nenhum arquivo encontrado no diretÃ³rio de uploads
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:182:25)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_ended {
  sessionId: 'c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46',
  timestamp: 1751700351152
}
âœ… Nova conexÃ£o WebSocket: ::1
âœ… Nova conexÃ£o WebSocket: ::1
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ§¹ Limpeza solicitada para sessÃ£o: 513763b6-1ba7-4aea-ae64-d023081a8718
ğŸ§¹ SessÃ£o 513763b6-1ba7-4aea-ae64-d023081a8718 limpa: 0 arquivos removidos
âœ… Nova conexÃ£o WebSocket: undefined
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ‘† Dados de cliques recebidos: 1 cliques da sessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“ Dados de cliques salvos: click_data_c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46_1751700375012.json
ğŸ‘† Dados de cliques recebidos: 2 cliques da sessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“ Dados de cliques salvos: click_data_c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46_1751700375869.json
ğŸ‘† Dados de cliques recebidos: 3 cliques da sessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“ Dados de cliques salvos: click_data_c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46_1751700376303.json
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ‘† Dados de cliques recebidos: 4 cliques da sessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“ Dados de cliques salvos: click_data_c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46_1751700377133.json
ğŸ–±ï¸ Dados de mouse recebidos: 234 pontos da sessÃ£o c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
ğŸ“ Dados de mouse salvos: mouse_data_c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46_1751700384402.json
ğŸ”š SessÃ£o finalizada: c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:182:25)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_ended {
  sessionId: 'c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46',
  timestamp: 1751700385378
}
ğŸ”Œ ConexÃ£o WebSocket fechada: c3aeec4d-5c93-4751-9dfb-0f4a7eda0b46
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:321:13)
    at WebSocket.emit (node:events:536:35)
    at WebSocket.emitClose (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:272:10)
    at Socket.socketOnClose (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1341:15)
    at Socket.emit (node:events:524:28) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ“± SessÃ£o iniciada: 32aa1113-631d-4c8c-af52-8d3294696ba6
Erro ao enviar notificaÃ§Ã£o: Error: Cannot find module 'axios'
Require stack:
- /Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)
    at Module._load (node:internal/modules/cjs/loader:1043:27)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at notifyMainServer (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:421:23)
    at WebSocket.<anonymous> (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js:57:21)
    at WebSocket.emit (node:events:524:28)
    at Receiver.receiverOnMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/websocket.js:1220:20)
    at Receiver.emit (node:events:524:28)
    at Receiver.dataMessage (/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/node_modules/ws/lib/receiver.js:596:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/nathan.oliveira/Documents/test/clarity/heatmap-server/websocket-server.js'
  ]
}
ğŸ“¡ Admin Event: session_started {
  sessionId: '32aa1113-631d-4c8c-af52-8d3294696ba6',
  url: 'http://localhost:5000/',
  timestamp: 1751700386723
}
ğŸ“ˆ Status: 2 clientes ativos, 2 sessÃµes
ğŸ“‹ SessÃµes ativas:
   ğŸ”¸ 7ce640e8-f17c-463b-9984-a9dcaf46876f: 0 imagens, 57s, ativo
   ğŸ”¸ 32aa1113-631d-4c8c-af52-8d3294696ba6: 0 imagens, 0s, ativo
ğŸ–±ï¸ Dados de mouse recebidos: 128 pontos da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de mouse salvos: mouse_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700396724.json
âœ… Nova conexÃ£o WebSocket: undefined
âœ… Nova conexÃ£o WebSocket: ::1
âœ… Nova conexÃ£o WebSocket: ::1
ğŸ“ˆ Status: 2 clientes ativos, 2 sessÃµes
ğŸ“‹ SessÃµes ativas:
   ğŸ”¸ 7ce640e8-f17c-463b-9984-a9dcaf46876f: 0 imagens, 117s, ativo
   ğŸ”¸ 32aa1113-631d-4c8c-af52-8d3294696ba6: 0 imagens, 60s, ativo
ğŸ‘† Dados de cliques recebidos: 1 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700460553.json
ğŸ‘† Dados de cliques recebidos: 2 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700461336.json
ğŸ‘† Dados de cliques recebidos: 3 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700462209.json
ğŸ‘† Dados de cliques recebidos: 4 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700463226.json
ğŸ‘† Dados de cliques recebidos: 5 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700463938.json
ğŸ‘† Dados de cliques recebidos: 6 cliques da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de cliques salvos: click_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700464826.json
ğŸ–±ï¸ Dados de mouse recebidos: 324 pontos da sessÃ£o 32aa1113-631d-4c8c-af52-8d3294696ba6
ğŸ“ Dados de mouse salvos: mouse_data_32aa1113-631d-4c8c-af52-8d3294696ba6_1751700466731.json
ğŸ“ˆ Status: 2 clientes ativos, 2 sessÃµes
ğŸ“‹ SessÃµes ativas:
   ğŸ”¸ 7ce640e8-f17c-463b-9984-a9dcaf46876f: 0 imagens, 177s, ativo
   ğŸ”¸ 32aa1113-631d-4c8c-af52-8d3294696ba6: 0 imagens, 120s, ativo
